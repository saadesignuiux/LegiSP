@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Material Design 3 (MD3) Design System
 * Focus: Microinterações, Elevações realistas mapeadas e Tipografia forte
 */

@layer utilities {

    /* 1. MESH BACKGROUND ANIMADO -> DESLIGADO NO MD3. Focamos num background clean. */
    .md3-bg {
        @apply bg-background-light dark:bg-background-dark;
    }

    /* 2. ELEVAÇÕES TRANSIÇÕES (MD3) */
    .md3-elevation-transition {
        transition: box-shadow 300ms cubic-bezier(0.2, 0, 0, 1), transform 300ms cubic-bezier(0.2, 0, 0, 1);
    }

    /* 3. CARTÕES (MD3 CARDS) */
    .md3-card {
        @apply bg-white dark:bg-white/5 rounded-xl border border-transparent shadow-md3 md3-elevation-transition relative overflow-hidden;
    }

    .dark .md3-card {
        @apply border-slate-800;
        /* No dark mode o card recebe uma pequena borda */
    }

    /* Card interativo (hover effect e state layer) */
    .md3-card-interactive {
        @apply md3-card cursor-pointer border border-transparent;
    }

    .dark .md3-card-interactive {
        @apply border-slate-800;
    }

    /* MD3 State Layer (Hover / Active) - Mapeamento com Pseudo-elemento */
    .md3-card-interactive::after {
        content: "";
        @apply absolute inset-0 bg-primary opacity-0 pointer-events-none;
        transition: opacity 200ms linear;
    }

    .dark .md3-card-interactive::after {
        @apply bg-white;
    }

    .md3-card-interactive:hover::after {
        @apply opacity-[0.04];
        /* MD3 Hover State */
    }

    .dark .md3-card-interactive:hover::after {
        @apply opacity-[0.08];
    }

    .md3-card-interactive:active::after {
        @apply opacity-[0.10];
        /* MD3 Pressed State */
    }

    .dark .md3-card-interactive:active::after {
        @apply opacity-[0.12];
    }

    /* Elevação + Borda vermelha conforme o Spec Design (DESIGN.md) */
    .md3-card-interactive:hover {
        @apply border-accent-red;
        @apply shadow-md3-3;
        transform: translateY(-2px);
    }

    /* 4. HEADER (TOP APP BAR MD3) */
    .md3-header {
        @apply bg-white dark:bg-background-dark border-b border-transparent;
        transition: background-color 300ms cubic-bezier(0.2, 0, 0, 1), backdrop-filter 300ms cubic-bezier(0.2, 0, 0, 1), border-color 300ms cubic-bezier(0.2, 0, 0, 1), box-shadow 300ms cubic-bezier(0.2, 0, 0, 1);
    }

    .md3-header-scrolled {
        @apply bg-white/85 dark:bg-background-dark/85 backdrop-blur-2xl border-b border-slate-200 dark:border-slate-800 shadow-sm;
    }

    /* 5. BOTÕES (MD3 BUTTONS) */
    /* Botão "Pill" (Filtros) */
    .md3-pill-button {
        @apply rounded-full px-5 py-2 font-semibold text-sm border border-slate-300 dark:border-slate-700 bg-surface dark:bg-white/5 text-slate-900 dark:text-white flex items-center gap-2 relative overflow-hidden;
        transition: background-color 200ms linear, border-color 200ms linear, box-shadow 300ms cubic-bezier(0.2, 0, 0, 1);
    }

    .md3-pill-button::after {
        content: "";
        @apply absolute inset-0 bg-primary pointer-events-none opacity-0 transition-opacity duration-200;
    }

    .dark .md3-pill-button::after {
        @apply bg-white;
    }

    .md3-pill-button:hover::after {
        @apply opacity-[0.04];
    }

    .dark .md3-pill-button:hover::after {
        @apply opacity-[0.08];
    }

    .md3-pill-button:active::after {
        @apply opacity-[0.10];
    }

    .dark .md3-pill-button:active::after {
        @apply opacity-[0.12];
    }

    .md3-pill-button:hover {
        @apply bg-white dark:bg-white/10 border-slate-400 dark:border-slate-600 shadow-md3-1;
    }

    /* Botão Principal Em destaque (Ação primária filled) */
    .md3-primary-button {
        @apply bg-primary text-white dark:bg-white dark:text-primary rounded-lg px-8 py-3 font-semibold tracking-wide relative overflow-hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
        transition: background-color 200ms linear, box-shadow 300ms cubic-bezier(0.2, 0, 0, 1), transform 300ms cubic-bezier(0.2, 0, 0, 1);
    }

    .md3-primary-button::after {
        content: "";
        @apply absolute inset-0 bg-white pointer-events-none opacity-0 transition-opacity duration-200;
    }

    .dark .md3-primary-button::after {
        @apply bg-primary;
    }

    .md3-primary-button:hover {
        @apply bg-accent-red dark:bg-accent-red dark:text-white shadow-md3-2;
        transform: translateY(-1px);
    }

    .md3-primary-button:hover::after {
        @apply opacity-[0.08];
    }

    .md3-primary-button:active::after {
        @apply opacity-[0.12];
    }

    /* 6. TYPOGRAPHY HELPERS */
    .md3-title-display {
        @apply font-extrabold uppercase tracking-tighter text-primary dark:text-white;
    }

    .md3-section-title {
        @apply font-black uppercase tracking-widest text-lg md:text-xl border-b border-slate-200 dark:border-slate-800 pb-4 mb-6;
    }
}